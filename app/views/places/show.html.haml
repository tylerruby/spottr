:javascript
  window.place_id = #{@place.id};
.container-fluid
  .row{:style => "margin-top:20px;"}
    .col-md-4.col-md-offset-1.col-sm-5.col-xs-12
      .panel.panel-default
        .panel-body{:style => "padding:0;"}
          .row
            .col-md-12.col-sm-12.col-xs-6
              = image_tag @place.image.url, class: 'img-responsive'
            .col-md-8.col-md-offset-2.col-sm-10.col-sm-offset-1
              %h4
                = @place.title.titleize
                - href = "http://maps.google.com/?saddr=#{@lat},#{@long}&daddr=#{@place.latitude},#{@place.longitude}"
                %a.btn.btn-sm.btn-default.btn-outline.fa.fa-car.pull-right.js-route-link{:href=> href, :target => "_blank"}
              = @place.address
              - if @place.website && @place.website.present?
                %br
                %strong
                  = link_to @place.website, get_url_from_model(@place.website)
              - if @place.phone_number && @place.phone_number.present?
                %br
                %span.glyphicon.glyphicon-earphone
                  = number_to_phone(@place.phone_number)
                %br
                %br
      .panel.panel-default
        .panel-body{:style => "padding:0;"}
          .row
            .col-md-12.hidden-xs
              #place-map{style: "height: 400px;"}
              :javascript
                function init() {
                  var latLng = new google.maps.LatLng(#{@place.latitude}, #{@place.longitude});
                  var mapOptions = {
                    center: latLng,
                    zoom: 14
                  }
                  var map = new google.maps.Map(document.getElementById('place-map'),
                    mapOptions);
                  var marker = new google.maps.Marker({
                    position: latLng,
                    map: map,
                    title: "#{@place.title}"
                  });
                  navigator.geolocation && navigator.geolocation.getCurrentPosition(function(position) {
                    var fromLat = position.coords.latitude;
                    var fromLng = position.coords.longitude;
                    var href = "http://maps.google.com/?saddr=" +
                      fromLat + "," + fromLng +
                      "&daddr=#{@place.latitude},#{@place.longitude}"
                    $('.js-route-link').attr('href', href);
                  });
                }
                google.maps.event.addDomListener(window, 'load', init);
    .col-md-6.col-sm-7.col-xs-12
      = render 'menu_items'
    .col-md-6.col-sm-7.col-xs-12
      = render 'comments'

